import gsap from"gsap";import ScrollTrigger from"gsap/dist/ScrollTrigger";import Lenis from"@studio-freight/lenis";import customCursor from"./js/cursor.js";import videoMuting from"./js/videomuting.js";import Ukiyo from"ukiyojs";import"splitting/dist/splitting.css";import"splitting/dist/splitting-cells.css";import Splitting from"splitting";Splitting();import{register}from"swiper/element/bundle";register();import"./style.scss";window.onbeforeunload=function(){window.scrollTo(0,0)},gsap.registerPlugin(ScrollTrigger);const lenis=new Lenis;function raf(e){lenis.raf(e),ScrollTrigger.update(),requestAnimationFrame(raf)}function handleNav(){const e=document.querySelector(".about-link"),o=document.querySelector(".how-we-work-link"),t=document.querySelector(".work-link"),r=document.querySelector(".contact-link"),a=document.querySelector("#about-us"),s=document.querySelector("#how-we-work"),n=document.querySelector("#work"),i=document.querySelector("#contact"),c=document.querySelector(".burger"),l=document.querySelector(".close"),d=document.querySelector(".mobile"),g=()=>{e.classList.remove("active"),o.classList.remove("active"),t.classList.remove("active"),r.classList.remove("active"),d.classList.add("hidden"),v=!1},u=()=>{e.classList.add("active"),o.classList.remove("active"),t.classList.remove("active"),r.classList.remove("active"),d.classList.add("hidden"),v=!1},p=()=>{e.classList.remove("active"),o.classList.add("active"),t.classList.remove("active"),r.classList.remove("active"),d.classList.add("hidden"),v=!1},m=()=>{t.classList.add("active"),o.classList.remove("active"),e.classList.remove("active"),r.classList.remove("active"),d.classList.add("hidden"),v=!1},y=()=>{r.classList.add("active"),e.classList.remove("active"),o.classList.remove("active"),t.classList.remove("active"),d.classList.add("hidden"),v=!1};e.addEventListener("click",(()=>{lenis.scrollTo(a),u()})),o.addEventListener("click",(()=>{lenis.scrollTo(s),p()})),t.addEventListener("click",(()=>{lenis.scrollTo(n),m()})),r.addEventListener("click",(()=>{lenis.scrollTo(i),y()}));let v=!1;c.addEventListener("click",(()=>{v?(d.classList.add("hidden"),v=!1):(d.classList.remove("hidden"),v=!0)})),l.addEventListener("click",(()=>{d.classList.add("hidden"),v=!1}));const b=document.querySelector(".main"),h=document.querySelector(".intro"),k=document.querySelector(".about"),S=document.querySelector(".how-we-work"),L=document.querySelector(".work"),f=document.querySelector(".contact"),w=document.querySelector(".hero");ScrollTrigger.create({trigger:w,start:"top top",end:"bottom top",onEnter:()=>gsap.to(b,{backgroundColor:"#EE512F",duration:1,ease:"ease.in"},g()),onEnterBack:()=>gsap.to(b,{backgroundColor:"#EE512F",duration:1,ease:"ease.in"},g())}),ScrollTrigger.create({trigger:h,start:"top top",end:"bottom +=75%",onEnter:()=>{gsap.to(b,{backgroundColor:"#EE512F",duration:1,ease:"ease.in"},g())},onLeave:()=>{gsap.to(b,{backgroundColor:"#108896",duration:1,ease:"ease.out"},u()),gsap.to(".team__card .team__blend",{backgroundColor:"#108896",duration:1,ease:"ease.in"})},onEnterBack:()=>gsap.to(b,{backgroundColor:"#EE512F",duration:1,ease:"ease.in"},g())}),ScrollTrigger.create({trigger:k,start:"top +=75%",end:"bottom top",onEnter:()=>{gsap.to(b,{backgroundColor:"#108896",duration:1,ease:"ease.in"},u()),gsap.to(".team__card .team__blend",{backgroundColor:"#108896",duration:1,ease:"ease.in"})},onLeave:()=>gsap.to(b,{backgroundColor:"#1C374D",duration:1,ease:"ease.out"},p()),onEnterBack:()=>{gsap.to(b,{backgroundColor:"#108896",duration:1,ease:"ease.in"},u())}}),ScrollTrigger.create({trigger:S,start:"top 70%",end:"bottom top",onEnter:()=>{gsap.to(b,{backgroundColor:"#1C374D",duration:1,ease:"ease.in"},p()),gsap.to(".team__card .team__blend",{backgroundColor:"#1C374D",duration:1,ease:"ease.in"})},onLeave:()=>gsap.to(b,{backgroundColor:"#E69C24",duration:.5,ease:"ease.out"},m()),onLeaveBack:()=>{gsap.to(b,{backgroundColor:"#108896",duration:1,ease:"ease.in"},u()),gsap.to(".team__card .team__blend",{backgroundColor:"#108896",duration:1,ease:"ease.in"})},onEnterBack:()=>gsap.to(b,{backgroundColor:"#1C374D",duration:1,ease:"ease.in"},p())}),ScrollTrigger.create({trigger:L,start:"top 50%",end:"bottom 20%",onEnter:()=>gsap.to(b,{backgroundColor:"#1C374D",duration:1,ease:"ease.in"},m()),onLeave:()=>gsap.to(b,{backgroundColor:"#E69C24",duration:1,ease:"ease.out"},y()),onEnterBack:()=>gsap.to(b,{backgroundColor:"#1C374D",duration:1,ease:"ease.in"},m())}),ScrollTrigger.create({trigger:f,start:"top 40%",end:"bottom top",onEnter:()=>gsap.to(b,{backgroundColor:"#E69C24",duration:1,ease:"ease.in"},y()),onLeave:()=>gsap.to(b,{backgroundColor:"#1C374D",duration:1,ease:"ease.out"},g()),onLeaveBack:()=>gsap.to(b,{backgroundColor:"#1C374D",duration:1,ease:"ease.out"},m())})}function handleScrolHorizontal(){const e=document.querySelector(".team");let o=gsap.utils.toArray(".team__card");gsap.to(o,{xPercent:-90*(o.length-1),ease:"sine.out",scrollTrigger:{trigger:e,pin:!0,scrub:2,delay:1,end:"+=100%"}})}requestAnimationFrame(raf);var state="";function checkMobile(){var e=state;if((e=innerWidth>1023?"large":"mobile")!==state){if("large"!==e)return;handleScrolHorizontal(),state=e}}function handleModal(){const e=document.querySelectorAll(".js-work"),o=document.querySelectorAll(".work__slider"),t=document.querySelector(".js-close"),r=document.querySelector(".modal");e.forEach((e=>{e.addEventListener("click",(e=>{r.classList.add("is-active");let o=e.target.dataset.slide;document.querySelector(`[data-client=${o}]`).hidden=!1,lenis.stop()}))})),t.addEventListener("click",(function(){r.classList.remove("is-active"),o.forEach((e=>e.hidden=!0)),lenis.start()}))}document.addEventListener("resize",checkMobile),checkMobile();const sloganContainer=document.querySelector(".slogan p");let slogans=["*You’re going to like it here.","*Always non-toxic.","*Served fresh daily.","*Ideas may be hot to the touch.","*Jerk-free zone.","*Cannot be duplicated.","*There’s no limit.","*Creative discretion is not advised.","*Do not try this at home.","*We go with the flow."];function randomSlogan(){let e;e=slogans[Math.floor(Math.random()*slogans.length)],sloganContainer.append(e)}const logo=document.querySelector(".logo"),burguer=document.querySelector(".burguer-btn"),heroWelcome=[...document.querySelectorAll(".hero__title[data-splitting][data-effect17]")],bioImages=document.querySelectorAll(".team__blend"),copyright=document.querySelector(".copyright__text"),slogan=document.querySelector(".slogan"),navbar=document.querySelector(".navbar"),lastWord=document.querySelector(".last-brand");gsap.fromTo(logo,{"will-change":"opacity",opacity:0,y:-30},{ease:"power1.inOut",opacity:1,y:0,scrollTrigger:{trigger:logo,start:"top bottom",end:"center top"}}),gsap.fromTo(burguer,{"will-change":"opacity",opacity:0,y:-30},{ease:"power1.inOut",opacity:1,y:0,scrollTrigger:{trigger:burguer,start:"top bottom",end:"center top"}}),heroWelcome.forEach((e=>{gsap.fromTo(e.querySelectorAll(".word"),{"will-change":"opacity",opacity:0,y:30},{ease:"power1.out",opacity:1,stagger:.1,y:0,delay:.75,scrollTrigger:{trigger:e,start:"top bottom",end:"center top"}})}));const titles=document.querySelectorAll(".title");titles.forEach((e=>{gsap.fromTo(e,{"will-change":"opacity",opacity:.1,x:-10},{ease:"none",opacity:1,x:0,stagger:.18,delay:.2,scrollTrigger:{trigger:e,start:"top bottom",end:"center top"}})})),innerWidth>=1024&&bioImages.forEach((e=>{gsap.fromTo(e,{"will-change":"opacity",x:120},{ease:"none",x:0,scrollTrigger:{trigger:e,start:"top bottom",end:"center top",scrub:!0}})})),gsap.fromTo(copyright,{"will-change":"opacity",opacity:0,y:30},{ease:"power1.inOut",opacity:1,delay:1.2,y:0,scrollTrigger:{trigger:copyright,start:"top bottom",end:"center top"}}),gsap.fromTo(navbar,{"will-change":"opacity",opacity:0,x:30},{ease:"power1.inOut",opacity:1,delay:1.5,x:0,scrollTrigger:{trigger:slogan,start:"top bottom",end:"center top"}}),gsap.fromTo(slogan,{"will-change":"opacity",opacity:0,y:30},{ease:"power1.inOut",opacity:1,delay:1.5,y:0,scrollTrigger:{trigger:slogan,start:"top bottom",end:"center top"}}),gsap.fromTo(lastWord,{"will-change":"opacity",opacity:0,y:60},{ease:"power1.inOut",opacity:1,delay:.5,y:0,scrollTrigger:{trigger:lastWord,start:"top bottom",end:"center top"}});const images_prllx=document.querySelectorAll(".parallax");images_prllx.forEach((e=>{new Ukiyo(e,{speed:3,scale:1.1})})),handleNav(),randomSlogan(),handleModal(),customCursor(),videoMuting();